generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id            Int     @id @default(autoincrement())
  email         String  @unique(map: "email") @db.VarChar(255)
  password      String? @db.VarChar(255) // Now optional (for Google users)
  name          String? @db.VarChar(255) // Optional Google user name
  googleId      String? @unique // Google account ID (optional)
  registeredVia String? @default("local") // e.g., "local" or "google"
}

model recovery_code {
  id        Int      @id @default(autoincrement())
  email     String   @db.VarChar(255)
  code      String   @db.Char(6)
  createdAt DateTime @default(now())
  expiresAt DateTime
  used      Boolean  @default(false) // 

  @@index([email])
}
